webpackJsonp([4],{QZXo:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={data:function(){return{totalCount:0,list:[],listLoading:!1,listQuery:{pageNum:1,pageRow:50,name:""},tempArticle:{id:"",username:"",operation:"",content:"",sqlC:"",ip:""}}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.hasPerm("log:list")&&(this.listLoading=!0,this.api({url:"/log/listLog",method:"get",params:this.listQuery}).then(function(e){t.listLoading=!1,console.log(e.list),t.list=e.list,t.totalCount=e.totalCount}))},handleSizeChange:function(t){this.listQuery.pageRow=t,this.handleFilter()},handleCurrentChange:function(t){this.listQuery.pageNum=t,this.getList()},getIndex:function(t){return(this.listQuery.pageNum-1)*this.listQuery.pageRow+t+1}}},a={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"app-container"},[l("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:t.list,"element-loading-text":"拼命加载中",border:"",fit:"","highlight-current-row":""}},[l("el-table-column",{staticStyle:{width:"2px"},attrs:{align:"center",label:"序号"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{domProps:{textContent:t._s(t.getIndex(e.$index))}})]}}])}),t._v(" "),l("el-table-column",{staticStyle:{width:"5px"},attrs:{align:"center",label:"用户名",prop:"username"}}),t._v(" "),l("el-table-column",{staticStyle:{width:"5px"},attrs:{align:"center",label:"操作时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",[t._v(t._s(e.row.createTime))])]}}])}),t._v(" "),l("el-table-column",{staticStyle:{width:"5px"},attrs:{align:"center",label:"操作内容",prop:"operation"}}),t._v(" "),l("el-table-column",{staticStyle:{width:"5px"},attrs:{align:"center",label:"操作",prop:"content"}}),t._v(" "),l("el-table-column",{staticStyle:{width:"5px"},attrs:{align:"center",label:"执行的SQL语句",prop:"sqlC","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{staticStyle:{width:"8px"},attrs:{align:"center",label:"操作的IP",prop:"ip"}})],1),t._v(" "),l("el-pagination",{attrs:{"current-page":t.listQuery.pageNum,"page-size":t.listQuery.pageRow,total:t.totalCount,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]},i=l("VU/8")(n,a,!1,null,null,null);e.default=i.exports}});